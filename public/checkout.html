<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Super Lure Checkout</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
<style>
  body { font-family:'Roboto', sans-serif; margin:0; padding:0; background:#f5f5f5; color:#333; }
  header { background:#000; color:white; padding:20px; text-align:center; }
  h1,h2 { text-align:center; }
  .content { padding:30px; max-width:1000px; margin:20px auto; background:white; border-radius:10px; box-shadow:0 4px 12px rgba(0,0,0,0.08); }
  .cart-summary { margin-bottom:20px; }
  .cart-item { display:flex; justify-content:space-between; margin-bottom:10px; }
  form label { display:block; margin-top:10px; font-weight:bold; }
  form input, form textarea, form select { width:100%; padding:8px; margin-top:6px; border-radius:6px; border:1px solid #ccc; box-sizing:border-box; }
  form textarea { resize:vertical; min-height:80px; }
  button { padding:10px 18px; background:#3B5998; color:white; border:none; border-radius:6px; font-weight:bold; cursor:pointer; }
  button:hover { background:#2b4f7a; }
  .required-star { color:red; }
  .button-container { display:flex; justify-content:center; gap:18px; margin-top:20px; flex-wrap:wrap; }
  .phone-container { display:flex; gap:8px; align-items:center; }
  select.country-code { width:30%; min-width:140px; font-size:13px; }
  #paypal-button-container { margin-top:20px; }
  #back-btn { background:#777; margin-top:15px; padding:8px 14px; font-size:14px; cursor:pointer; border-radius:6px; color:white; border:none; }
  .two-col { display:grid; grid-template-columns: 1fr 1fr; gap:12px; align-items:start; }
  .summary-line { display:flex; justify-content:space-between; padding:4px 0; }
  .summary-total { font-weight:700; font-size:1.05rem; margin-top:8px; }
  .small { font-size:0.9rem; color:#555; }
</style>
</head>

  import express from "express";
import { getShippingRate } from "./canadapost.js";

const app = express();

app.get("/shipping-rate", async (req, res) => {
  const { origin, destination, weight } = req.query;
  try {
    const xmlData = await getShippingRate(origin, destination, weight || 1);
    res.send(xmlData); // send XML response to frontend
  } catch (err) {
    console.error(err);
    res.status(500).send("Error fetching shipping rate");
  }
});

app.listen(3000, () => console.log("Server running on port 3000"));
<body>

<header>
  <h1>Super Lure Checkout</h1>
</header>

<section class="content">

  <!-- Step 1 -->
  <div id="step1">
    <h2>Order Summary</h2>
    <div class="cart-summary" id="cart-summary"></div>

    <h2>Shipping & Billing Info</h2>

    <form id="checkout-form" novalidate>
      <label>Full Name <span class="required-star">*</span></label>
      <input type="text" id="name" required>

      <label>Email <span class="required-star">*</span></label>
      <input type="email" id="email" required pattern=".+\.com$" title="Email must end with .com">

      <div class="two-col" style="margin-top:10px;">
        <div>
          <label>Country <span class="required-star">*</span></label>
          <select id="country" required></select>
        </div>
        <div>
          <label>State / Province <span class="required-star">*</span></label>
          <select id="subdivision" required>
            <option value="">-- Select country first --</option>
          </select>
        </div>
      </div>

      <label style="margin-top:12px;">Address <span class="required-star">*</span></label>
      <input type="text" id="address" required>

      <label>Phone <span class="required-star">*</span></label>
      <div class="phone-container">
        <select name="country_code" id="country_code" class="country-code" required></select>
        <input type="tel" id="phone" placeholder="Phone number" required style="flex:1;"/>
      </div>

      <label>Additional Info</label>
      <textarea id="additional" placeholder="Optional notes..."></textarea>

      <div class="button-container">
        <button type="button" id="exit-btn" style="background:#777;">Exit Checkout</button>
        <button type="submit" id="to-payment">Continue to Payment</button>
      </div>
    </form>
  </div>

  <!-- Step 2 -->
  <div id="step2" style="display:none;">
    <h2>Order Summary</h2>
    <div class="cart-summary" id="cart-summary-2"></div>
    <div id="paypal-button-container"></div>
    <button id="back-btn">‚Üê Back to Info</button>
  </div>

</section>

<script src="script.js"></script>
</body>
</html>

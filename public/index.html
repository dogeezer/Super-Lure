<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Super Lure</title>
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
<style>
/* Your original CSS from above, unchanged */
body { font-family:'Roboto', sans-serif; margin:0; padding:0; background:#f5f5f5; color:#333; scroll-behavior:smooth; }
/* ... rest of your CSS ... */
</style>
</head>
<body>

<header>
<img id="logo" src="https://i.postimg.cc/VsD5TC4m/IMG-3871.jpg" alt="Super Lure Logo">
<b>Ready for your next catch?</b>
<div class="cart-icon" id="cart-icon"><i class="fas fa-shopping-cart"></i></div>
</header>

<nav id="main-nav">
<a href="#home">Home</a>
<a href="#products">Products</a>
<a href="#about">About</a>
<a href="#contact">Contact</a>
</nav>

<div id="main-content-sections">
<section class="hero" id="home">
<h1><i>Memories lie just a cast away.</i></h1>
</section>

<section class="content" id="products">
<h2>Our Products</h2>

<!-- Tabs -->
<div class="tabs">
  <!-- Your tab buttons -->
</div>

<!-- Product Grid -->
<div class="product-grid" id="product-grid">
<!-- Your products -->
</div>
</section>

<!-- About Section -->
<section id="about">
<h2>About Super Lure</h2>
<p>Super Lure is dedicated to providing the highest quality fishing lures...</p>
</section>

<!-- Contact Section -->
<section id="contact">
<h2>Contact Us</h2>
<p><strong>Email:</strong> superlure10@gmail.com</p>
<p><strong>Phone:</strong> +1 (519)-888-7888</p>
</section>
</div>

<!-- Cart Page -->
<div class="cart-page" id="cart-page">
<div class="cart-content-wrapper">
<button id="back-to-shop-btn" class="buy-button">&larr; Back to Products</button>
<h2>Your Shopping Cart</h2>
<div id="cart-items-list"></div>

<!-- Checkout form inside cart -->
<h3>Checkout Info</h3>
<form id="checkout-form">
<label>Name: <input type="text" id="customer-name" required></label><br><br>
<label>Email: <input type="email" id="customer-email" required></label><br><br>
<label>Destination Postal: <input type="text" id="dest-postal" required></label><br><br>
<button type="submit" class="checkout-button">Proceed to Checkout</button>
</form>

<div class="cart-summary">
<div class="summary-line"><span>SUBTOTAL</span><span id="summary-subtotal">$0.00</span></div>
<div class="summary-line"><span>SHIPPING</span><span id="summary-shipping">$0.00</span></div>
<hr>
<div class="summary-line"><strong>ORDER TOTAL</strong><strong id="summary-total">$0.00</strong></div>
</div>

</div>
</div>

<script>
// Cart code (unchanged)
let cart=[];
const SHIPPING_PER_ITEM=1.28;
const MAX_QTY=50;
const cartIcon=document.getElementById('cart-icon');
const cartPage=document.getElementById('cart-page');
const mainSections=document.getElementById('main-content-sections');
const navBar=document.getElementById('main-nav');
const backBtn=document.getElementById('back-to-shop-btn');
const cartList=document.getElementById('cart-items-list');
const subtotalEl=document.getElementById('summary-subtotal');
const shippingEl=document.getElementById('summary-shipping');
const totalEl=document.getElementById('summary-total');

function toggleCart(show){
  if(show===undefined) show=cartPage.style.display==='none'||cartPage.style.display==='';
  if(show){ mainSections.style.display='none'; navBar.style.display='none'; cartPage.style.display='block'; updateCart(); }
  else { mainSections.style.display='block'; navBar.style.display='flex'; cartPage.style.display='none'; }
}

function addToCart(product){
  const index=cart.findIndex(p=>p.name===product.name);
  if(index>-1){
    if(cart[index].qty+1>MAX_QTY){
      alert(`You can only purchase up to ${MAX_QTY} items of ${product.name}.`);
      return;
    }
    cart[index].qty+=1;
  } else { cart.push({...product,qty:1}); }
  updateCart();
}

function removeItem(index){ cart.splice(index,1); updateCart(); }

function updateQty(index){
  let qty=parseInt(document.getElementById(`qty-${index}`).value);
  if(qty>MAX_QTY){ alert(`Maximum quantity for this product is ${MAX_QTY}.`); qty=MAX_QTY; document.getElementById(`qty-${index}`).value=MAX_QTY; }
  if(qty>0) cart[index].qty=qty; else { removeItem(index); return; }
  updateCart();
}

function updateCart(){
  cartList.innerHTML='';
  let subtotal=0,totalQty=0;
  if(cart.length===0){ cartList.innerHTML='<p>Your cart is empty.</p>'; }
  else{
    cart.forEach((item,index)=>{
      subtotal+=item.price*item.qty;
      totalQty+=item.qty;
      const div=document.createElement('div');
      div.className='cart-item';
      div.innerHTML=`<div class="item-image"><img src="${item.img}" alt="${item.name}"></div>
      <div class="item-details"><strong>${item.name}</strong>
      <div class="item-actions"><button class="remove-btn" onclick="removeItem(${index})">Remove</button></div></div>
      <div class="item-pricing"><label>Price:</label><span>$${item.price.toFixed(2)}</span>
      <label>Qty:</label>
      <div class="qty-group"><input type="number" id="qty-${index}" min="1" max="${MAX_QTY}" value="${item.qty}">
      <button class="update-btn" onclick="updateQty(${index})">Update</button></div></div>`;
      cartList.appendChild(div);
    });
  }
  subtotalEl.textContent=`$${subtotal.toFixed(2)}`;
  const shippingCost=totalQty*SHIPPING_PER_ITEM;
  shippingEl.textContent=`$${shippingCost.toFixed(2)}`;
  totalEl.textContent=`$${(subtotal+shippingCost).toFixed(2)}`;
}

// Buy button
document.querySelectorAll('.buy-button').forEach(btn=>{
  btn.addEventListener('click',e=>{
    const prod=btn.closest('.product');
    if(!prod) return;
    addToCart({name:prod.dataset.name,price:parseFloat(prod.dataset.price),img:prod.dataset.img,stock:prod.dataset.stock,desc:prod.dataset.desc});
    toggleCart(true);
  });
});

cartIcon.addEventListener('click',()=>toggleCart(true));
backBtn.addEventListener('click',()=>toggleCart(false));

// Checkout form
const checkoutForm=document.getElementById('checkout-form');
checkoutForm.addEventListener('submit',e=>{
  e.preventDefault();
  // Save cart + customer info
  localStorage.setItem('cart',JSON.stringify(cart));
  localStorage.setItem('customerName', document.getElementById('customer-name').value);
  localStorage.setItem('customerEmail', document.getElementById('customer-email').value);
  localStorage.setItem('destPostal', document.getElementById('dest-postal').value);
  // Redirect to checkout page where rates will be calculated
  window.location.href='checkout.html';
});

// Tabs functionality
const tabButtons=document.querySelectorAll('.tab-btn');
const products=document.querySelectorAll('.product');
tabButtons.forEach(btn=>{
  btn.addEventListener('click',()=>{
    tabButtons.forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    const category=btn.dataset.category;
    products.forEach(prod=>{
      prod.style.display=(category==='all'||prod.dataset.category===category)?'block':'none';
    });
  });
});
</script>
</body>
</html>
